<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        div {
            border: 1px solid blue;
        }

        ul {
            padding: 20px;
        }

        li {
            list-style: none;
            margin-top: 10px;
            background-color: skyblue;
            height: 30px;
            line-height: 30px;
        }

        button {
            width: 100%;
            height: 50px;
            background-color: white;
        }
    </style>
</head>

<body>

    <div>
        <ul id="ul">
            <li>你见，或者不见我　</li>
            <li>我就在那里　</li>
            <li>不悲不喜　　</li>
            <li>你念，或者不念我　</li>
            <li>情就在那里　　</li>
            <li>不来不去　　</li>
            <li>你爱，或者不爱我　</li>
            <li>爱就在那里　</li>
            <li>不增不减　</li>
        </ul>
        <button id="btn">点击加载更多..</button>
    </div>

    <script>
        var arr = [
            '你跟，或者不跟我', 　　
            '我的手就在你手里', 　　
            '不舍不弃', 　
            '来我的怀里', 　　
            '或者', 　　
            '让我住进你的心里', 　
            '默然　相爱', 　　
            '寂静　喜欢',
        ];
        
//        需求:
//        1.每一条li,都应该有一个自己的点击事件,并且在事件处理函数中打印自己的文本
//        2.点击btn,根据arr的数据,动态的创建li,并且添加到ul中(动态添加的li也应该有点击事件)
        
//        1.1 获取页面中所有的li
//            var ul = document.getElementById('ul');
//            var lis = ul.getElementsByTagName('li');
////        1.2. 给每一个li注册点击事件
//            for(var i = 0; i < lis.length; i++) {
//              lis[i].onclick = liClick;
//            }
//            function liClick(){
//                //       1.3. 在事件处理函数中打印对应的文本
//                console.log(this.innerText);
//            }
//
////            2.1 获取btn
//            var btn = document.getElementById('btn');
////            2.2 给btn注册点击事件
//            btn.addEventListener('click', function(){
//                // 2.3 在事件处理函数中,根据arr动态创建li
//                arr.forEach(function(item){
//                    var li = document.createElement('li');
//                    li.innerText = item;
//                    ul.appendChild(li);
//
//                    //新创建的li,要再次注册事件
//                    li.onclick = liClick;
//                })
//            });
        
        
        //事件委托的方式去写代码
//        事件委托: 本来是自己做的事情,委托给父级的元素去完成
//        1. 获取元素
        var ul = document.getElementById('ul');
        //2. 把注册事件委托给ul
        ul.onclick = function(e){
//            console.log(1);
//            3. 把对应的li里面的 文本打印出来
//            console.log(this);
//            console.log(e.target);
            console.log(e.target.innerText);
        }

//       2.1 获取btn
        var btn = document.getElementById('btn');
//            2.2 给btn注册点击事件
        btn.addEventListener('click', function(){
            // 2.3 在事件处理函数中,根据arr动态创建li
            arr.forEach(function(item){
                var li = document.createElement('li');
                li.innerText = item;
                ul.appendChild(li);

//                //新创建的li,要再次注册事件
//                li.onclick = liClick;
            })
        });
        

        
        
        </script>
</body>

</html>