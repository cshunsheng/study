<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div>达达</div>
    <div>达达</div>
    <div>达达</div>
    <div>达达</div>
    <div>达达</div>


    <p>达达在看着我们</p>
    <p>达达在看着我们</p>
    <p>达达在看着我们</p>
    <p>达达在看着我们</p>


    <script>
    (function(window) {
        // 需求：省去new操作，还能的到jq的实例对象
        var jQuery = function(selector) {

            // jQuery不是构造函数了，而是工厂函数，内部new + 构造函数，并且return
            // 在jq里面，init才是真正的构造函数

            // return new 构造函数()；
            return new jQuery.fn.init(selector);
        }

        jQuery.fn = jQuery.prototype = {
            constructor: jQuery, // 指定构造函数jQuery
            init: function(selector){
                // 才是真正的构造函数
                // 获取元素
                var ele = document.querySelectorAll(selector);
                [].push.apply(this, ele);

                // $();
                // 
                // 
            },
            extend: function(obj){
                // 让原型调用extend方法，来给jq原型添加方法
                for(var k in obj){
                    if(obj.hasOwnProperty(k)){
                        this[k] = obj[k];
                    }
                }
            }
        }


        // 给jq原型添加样式操作
        jQuery.fn.extend({
            css: function(){
                // css(name, value) ==> 设置单个样式
                // css(name)        ==> 获取第一个元素的样式
                // css(obj)         ==> 设置多个样式

                
            },
            hasClass: function(){

            },
            addClass: function(){
                console.log("我添加了类名");
            },
            removeClass: function(){

            },
        });

        // 添加属性操作
        jQuery.fn.extend({
            attr: function(){

            },
            prop: function(){

            }
        })

        // 添加动画
        jQuery.fn.extend({
            show: function(){

            }
        })


        // jQuery.fn: jq的原型
        // 让init构造函数的原型指向了jq的原型，让init的实例对象可以访问到jq原型上的方法了。
        jQuery.fn.init.prototype = jQuery.fn;

        window.jQuery = window.$ = jQuery;
    })(window)

    // 如何用jQuery实例化对象
    var divs = $("div");
    console.log(divs);
    
    </script>
</body>

</html>
